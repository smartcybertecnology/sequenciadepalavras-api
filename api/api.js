// sequenciadepalavras-api/api.js export default function handler(req, res) { // --------------------------------------------------- // ðŸ”’ CORS â€“ permite que seu jogo acesse a API de qualquer domÃ­nio res.setHeader("Access-Control-Allow-Origin", "*"); res.setHeader("Access-Control-Allow-Methods", "GET, POST, OPTIONS"); res.setHeader("Access-Control-Allow-Headers", "Content-Type"); // Navegadores enviam OPTIONS antes do POST if (req.method === "OPTIONS") { return res.status(200).end(); } // --------------------------------------------------- // ðŸ“š Base de dados de palavras e dicas const palavras = [ "CASA","SOL","BOLA","GATO","PEIXE","ARVORE","FLOR","SAPO","CHUVA","LUA", "PATO","RUIM","BEM","PAO","MAIS","MENOS","TUDO","NADA","AGUA","FOGO", "TERRA","VENTO","LUZ","ESCURO","FELIZ","TRISTE","GRANDE","PEQUENO","ALTO","BAIXO" ]; const dicas = { CASA: "Lugar onde moramos", SOL: "Brilha no cÃ©u durante o dia", BOLA: "Usada para brincar", GATO: "Animal que mia", PEIXE: "Vive na Ã¡gua", ARVORE: "Tem tronco e folhas", FLOR: "Colorida e perfumada", SAPO: "Pula e vive perto da Ã¡gua", CHUVA: "Cai do cÃ©u", LUA: "Aparece no cÃ©u Ã  noite", PATO: "Animal que faz 'quack'", RUIM: "Oposto de bom", BEM: "Oposto de mal", PAO: "Comida feita com farinha", MAIS: "Sinal usado para somar", MENOS: "Sinal usado para subtrair", TUDO: "O conjunto inteiro", NADA: "Zero / vazio", AGUA: "LÃ­quido que bebemos", FOGO: "Muito quente", TERRA: "Solo / chÃ£o", VENTO: "Ar em movimento", LUZ: "Ilumina", ESCURO: "Sem luz", FELIZ: "Sentimento de alegria", TRISTE: "Sentimento de tristeza", GRANDE: "Maior que o normal", PEQUENO: "Menor que o normal", ALTO: "NÃ£o Ã© baixo", BAIXO: "NÃ£o Ã© alto" }; // --------------------------------------------------- // ðŸš€ ROTAS // ðŸ‘‰ GET if (req.method === "GET") { // ROTA: /api?mode=random if (req.query.mode === "random") { const palavra = palavras[Math.floor(Math.random() * palavras.length)]; return res.status(200).json({ palavra, dica: dicas[palavra] }); } // ROTA PADRÃƒO â†’ retorna todas return res.status(200).json({ palavras, dicas }); } // ðŸ‘‰ POST â€“ verificar palavra if (req.method === "POST") { const { palavra, tentativa } = req.body ?? {}; if (!palavra || !tentativa) { return res.status(400).json({ error: "Dados incompletos." }); } return res.status(200).json({ correta: tentativa.toUpperCase() === palavra.toUpperCase() }); } // ðŸ‘‰ MÃ‰TODO NÃƒO PERMITIDO return res.status(405).json({ error: "MÃ©todo nÃ£o permitido" }); }
